---
import { DraftModeToggler } from '~/components/DraftModeToggler';

interface MenuItem {
  name: string;
  href: string;
}

const menuItems: MenuItem[] = [
  { name: 'Home', href: '/' },
  { name: 'Argomenti', href: '/categories' },
  { name: 'Chi sono', href: '/chi-sono' },
];

let isOpen = false;
const toggleMenu = () => {
  isOpen = !isOpen;
};
---

<nav class="bg-white border-b border-gray-200">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Sezione Sinistra (Titolo e Sottotitolo) -->
      <div class="flex-shrink-0">
        <a href="/" class="text-2xl font-bold text-gray-900">Spleenteo.</a>
        <p class="text-sm text-gray-500">
          Appunti di una vita. Davvero, niente di speciale qui. Shoo shoo
        </p>
      </div>
      <!-- Bottone Menu Mobile -->
      <div class="md:hidden">
        <button
          type="button"
          class="text-gray-900 hover:text-indigo-600 focus:outline-none"
          on:click={toggleMenu}
        >
          <svg
            class="h-6 w-6"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            {
              isOpen ? (
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              ) : (
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              )
            }
          </svg>
        </button>
      </div>
      <!-- Sezione Destra (Menu) -->
      <div class="hidden md:flex space-x-8">
        {
          menuItems.map((item) => (
            <a
              href={item.href}
              class="text-gray-900 hover:text-indigo-600 px-3 py-2 text-sm font-medium"
            >
              {item.name}
            </a>
          ))
        }
      </div>
      <DraftModeToggler />
    </div>
  </div>
  <!-- Menu Mobile -->
  {
    isOpen && (
      <div class="md:hidden">
        <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
          {menuItems.map((item) => (
            <a
              href={item.href}
              class="block text-gray-900 hover:text-indigo-600 px-3 py-2 text-base font-medium"
            >
              {item.name}
            </a>
          ))}
        </div>
      </div>
    )
  }
</nav>
